\documentclass[11pt]{article}

\usepackage[english]{babel}
\usepackage{csquotes}
\usepackage{amsmath}

\usepackage[otfmath]{XCharter}

\usepackage{microtype}

\usepackage[backend=biber,style=authoryear]{biblatex}
\addbibresource{$bibliography$}

% The following is needed for code blocks:
$if(highlighting-macros)$
$highlighting-macros$
$endif$

\usepackage{hyperref}
\hypersetup{bookmarksnumbered}
% Adds linebreaks in the middle of long URLs
\usepackage{xurl}

% With the XCharter font, the longest sections in the TOC like "14.1.10" get
% dangerously close to the section names. So we modify increase lengths by a
% bit to give them enough space. These constants may require some tweaking as
% the number of sections changes.
\usepackage{tocloft}
\setlength{\cftsubsecnumwidth}{2.5em}
\setlength{\cftsubsubsecnumwidth}{3.8em}

% From the Pandoc LaTeX template
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

\title{$title$}
\author{$author$}
\date{$date$}

\begin{document}
\frenchspacing
\maketitle

% Not sure why, but using 0 or no optional argument makes all the
% other bookmarks be sub-bookmarks to the Contents bookmark. Using 1
% makes all the bookmarks appear on the same level.
\pdfbookmark[1]{\contentsname}{toc}
\tableofcontents

$body$

\printbibliography[heading=bibintoc]

\end{document}
