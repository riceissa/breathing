\documentclass[11pt]{article}

\usepackage[english]{babel}
\usepackage{csquotes}
\usepackage{amsmath}

\usepackage{lmodern}
\usepackage[T1]{fontenc}

% Both Latin Modern and MLModern have the problem that on font sizes other than
% 10pt, some mathematical symbols such as \int don't change size when the
% document point size is changed. Latin Modern has the specific package fixcmex
% which fixes this problem. Unfortunately, MLModern does not seem to have such
% a package. But Latin Modern has the common Type-1 problem of appearing too
% thin on today's printers and on screens (see
% https://news.ycombinator.com/item?id=27923694 for details), which MLModern
% fixes. So are we left to choose a too-thin font, be forced to use 10pt font
% size, be stuck with poorly sized math symbols, or give up on Computer Modern
% entirely?  Fortunately, MLModern comes with a map file that can be loaded,
% which replaces the Latin Modern fonts with the MLModern versions, while also
% keeping the math symbol sizes!
\pdfmapfile{mlm-substitute.map}

\usepackage{microtype}

\usepackage[backend=biber,style=authoryear]{biblatex}
\addbibresource{$bibliography$}

% The following is needed for code blocks:
$if(listings)$
\usepackage{listings}
\newcommand{\passthrough}[1]{#1}
\lstset{defaultdialect=[5.3]Lua}
\lstset{defaultdialect=[x86masm]Assembler}
$endif$
$if(highlighting-macros)$
$highlighting-macros$
$endif$

\usepackage{hyperref}
\hypersetup{bookmarksnumbered}
% Adds linebreaks in the middle of long URLs
\usepackage{xurl}

% From the Pandoc LaTeX template
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

\usepackage{fixcmex}

\title{$title$}
\author{$author$}
\date{$date$}

\begin{document}
\frenchspacing
\maketitle

% Not sure why, but using 0 or no optional argument makes all the
% other bookmarks be sub-bookmarks to the Contents bookmark. Using 1
% makes all the bookmarks appear on the same level.
\pdfbookmark[1]{\contentsname}{toc}
\tableofcontents

$body$

\printbibliography[heading=bibintoc]

\end{document}
