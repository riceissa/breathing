\documentclass[11pt]{article}

\usepackage[english]{babel}
\usepackage{csquotes}
\usepackage{amsmath}

\usepackage[T1]{fontenc}
\usepackage[sc]{mathpazo}
\usepackage[varqu]{inconsolata}
\usepackage[T1,euler-digits]{eulervm}
\linespread{1.05}

\usepackage{microtype}

\usepackage[backend=biber,style=authoryear]{biblatex}

% Prevent latexmk from getting stuck in an infinite loop due to page breaks
% changing every time the document is compiled. Taken from
% https://tex.stackexchange.com/a/326234/18026
\renewcommand*{\bibsetup}{%
  \interlinepenalty=10000\relax % default is 5000
  \widowpenalty=10000\relax
  \clubpenalty=10000\relax
  \raggedbottom
  \frenchspacing
  \biburlsetup}

\addbibresource{$bibliography$}

% The following is needed for code blocks:
$if(highlighting-macros)$
$highlighting-macros$
$endif$

\usepackage{hyperref}
\hypersetup{bookmarksnumbered}
% Adds linebreaks in the middle of long URLs
\usepackage{xurl}

% With the XCharter font, the longest section numberings in the TOC like
% "14.1.10" get dangerously close to the section names. So we increase the
% lengths by a bit to give them enough space. These constants may require some
% tweaking in the future as the number of sections changes.
\usepackage{tocloft}
\setlength{\cftsubsecnumwidth}{2.5em}
\setlength{\cftsubsubsecnumwidth}{3.8em}

% From the Pandoc LaTeX template
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

\hyphenation{Hen-der-son}
\hyphenation{Has-sel-balch}

\title{$title$}
\author{$author$}
\date{$date$}

\begin{document}
\frenchspacing
\maketitle

% Not sure why, but using 0 or no optional argument makes all the
% other bookmarks be sub-bookmarks to the Contents bookmark. Using 1
% makes all the bookmarks appear on the same level.
\pdfbookmark[1]{\contentsname}{toc}
\tableofcontents

$body$

\printbibliography[heading=bibintoc]

\end{document}
